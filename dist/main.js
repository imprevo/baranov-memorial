!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){r(1),e.exports=r(2)},function(e,t){document.addEventListener("DOMContentLoaded",(function(){var e={igromania:"igromania.svg",dtf:"dtf.png",stopgame:"stopgame.png",kanobu:"kanobu.png",lki:"lki.png",bestgamer:"bestgamerICON.png",zog:"zog.png"},t={igromania:"Игромания",dtf:"DTF",stopgame:"StopGame.ru",kanobu:"Канобу",lki:"ЛКИ",bestgamer:"BestGamer.ru",zog:"Zone of Games"},r=[],a=new CustomEvent("records.loaded",{bubbles:!0});var n='\n        <div class="col-xs-12 col-md-4 col-xl-3 pb-4 memorial-card-column">\n                <div class="card memorial-card {nourl}" data-year="{year}" data-what="{where}">\n                    {logo}\n                    {img}\n                    <div class="card-body d-flex flex-column justify-content-between">\n                        <div>\n                            <h5 class="card-title">{title}</h5>\n                            <p class="card-text">{teaser_text}</p>\n                        </div>\n                    </div>\n                        <div class="card-footer text-muted">\n                            {url} <span class="float-right">{date}</span>\n                        </div>\n                </div>\n        </div>',o='<img class="logo" src="{logo}">',c='<img src="{img}" class="card-img-top" loading="lazy">',d='<a href="{url}" target="_blank" class="btn btn-primary btn-sm">Перейти к материалу</a>',i='<a href="https://discord.gg/zDxKb44" target="_blank" class="btn btn-danger btn-sm">Нужна помощь в поиске!</a>';function l(t){t.forEach((function(t){!function(t){var r=n.replace("{title}",t.title).replace("{teaser_text}",t.teaser_text).replace("{date}",t.date.day+"."+t.date.month+"."+t.date.year).replace("{year}",t.date.year).replace("{where}",t.where);r=t.date.day>0?r.replace("{date}",t.date.day+"."+t.date.month+"."+t.date.year):r.replace("{date}",t.date.month+"."+t.date.year),r=t.url?r.replace("{url}",d.replace("{url}",t.url)).replace("{nourl}",""):r.replace("{url}",i).replace("{nourl}","border-danger"),r=t.img?r.replace("{img}",c.replace("{img}",t.img)):r.replace("{img}",c.replace("{img}","./logo/placeholder.png")),r=e[t.where]?r.replace("{logo}",o.replace("{logo}","./res/image/"+e[t.where])):r.replace("{logo}",""),document.querySelector("#records_container").insertAdjacentHTML("beforeend",r)}(t)}))}function u(){Array.from(document.querySelectorAll(".memorial-card-column")).forEach((function(e){return e.remove()}))}function s(e){var t,a;return void 0!==e.year&&(t=e.year),void 0!==e.where&&(a=e.where),r.filter((function(e){return void 0!==t&&void 0!==a?e.date.year===t&&e.where===a:void 0!==t?e.date.year===t:void 0===a||e.where===a}))}document.addEventListener("records.loaded",(function(){l(r=r.sort((function(e,t){var r,a,n,o;return e=e.date,t=t.date,r=1===(e.month+"").length?"0"+e.month:e.month,a=1===(t.month+"").length?"0"+t.month:t.month,n=1===(e.day+"").length?"0"+e.day:e.day,o=1===(t.day+"").length?"0"+t.day:t.day,Number(e.year+""+r+n)>Number(t.year+""+a+o)?-1:Number(e.year+""+r+n)<Number(t.year+""+a+o)?1:0}))),document.getElementById("placeholder").remove();var e={},a={};for(var n in r){var o=r[n];e[o.date.year]||(e[o.date.year]=0),++e[o.date.year],a[o.where]||(a[o.where]=0),++a[o.where]}Object.keys(e).forEach((function(t){var r=document.createElement("a");r.classList.add("dropdown-item"),r.dataset.year=t,r.textContent=t+" ("+e[t]+")",r.href="javascript:void(0)",document.querySelector("#filters_year").insertAdjacentElement("afterbegin",r)})),Object.keys(a).forEach((function(e){var r=document.createElement("a");r.classList.add("dropdown-item"),r.dataset.where=e,r.textContent=t[e]+" ("+a[e]+")",r.href="javascript:void(0)",document.querySelector("#filters_where").insertAdjacentElement("afterbegin",r)}))})),function(){var e=["dtf_main","igromania_main","stopgame_main","stopgame_stream","stopgame_infact","kanobu","lki","bestgamer","zog"],t=e.length,n=0;for(var o in e)fetch("./data/"+e[o]+".json").then((function(e){return e.json()})).then((function(e){r=r.concat(e),++n===t&&document.dispatchEvent(a)}))}(),document.body.addEventListener("click",(function(e){e.target.classList.contains("dropdown-item")&&(("year"in e.target.dataset||"where"in e.target.dataset)&&u(),"year"in e.target.dataset&&l(s({year:Number(e.target.dataset.year)})),"where"in e.target.dataset&&l(s({where:e.target.dataset.where})),document.querySelector("#records_container").scrollIntoView({behavior:"smooth",block:"start"}))})),Array.from(["#unfilter_year","#unfilter_where"]).forEach((function(e){document.querySelector(e).onclick=function(){u(),l(r)}})),document.querySelector("#draw_nourl").onclick=function(){u(),l(r.filter((function(e){return!e.url})))}})),window.scrollTo(0,0)},function(e,t){}]);